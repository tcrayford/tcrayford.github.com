<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 
 <title>Tom Crayford</title>
 <link href="http://tcrayford.github.com/atom.xml" rel="self"/>
 <link href="http://tcrayford.github.com/"/>
 <updated>2010-01-07T16:03:37+00:00</updated>
 <id>http://tcrayford.github.com/</id>
 <author>
   <name>Tom Crayford</name>
   <email>tcrayford@googlemail.com</email>
 </author>
 
 
 <entry>
   <title>Clojure Autotest</title>
   <link href="http://tcrayford.github.com/2009/12/08/Lein-Autotest.html"/>
   <updated>2009-12-08T00:00:00+00:00</updated>
   <id>http://tcrayford.github.com/2009/12/08/Lein-Autotest</id>
   <content type="html">&lt;p&gt;I&amp;#8217;ve been doing a lot of testing for a clojure side project recently, and got envious of Ruby people having nice tools. In particular I liked the coloured output and automatic test running from &lt;a href='http://github.com/rubyphunk/rspactor' title='rspactor'&gt;rspactor&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I found &lt;a href='http://github.com/mynyml/watchr' title='watchr'&gt;watchr&lt;/a&gt; and came up with &lt;a href='http://gist.github.com/251881' title='watchr script'&gt;this script&lt;/a&gt;, which simply watches for changes to .clj files in &lt;code&gt;/src&lt;/code&gt; and &lt;code&gt;/test&lt;/code&gt; and runs &lt;code&gt;lein test&lt;/code&gt; in the shell window.&lt;/p&gt;

&lt;p&gt;To get started, install watchr&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;gem install watchr&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;and run the script in the home directory for your Leiningen-backed clojure project.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;watchr /path/to/script&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The script also does some (very basic) red/green colouring of outputs using zsh color codes.&lt;/p&gt;

&lt;p&gt;Sample output: &lt;img src='/files/lein-autotest.png' alt='Sample output' /&gt;&lt;/p&gt;</content>
 </entry>
 
 
</feed>
